<section class="projects-container">
  <div class="project-title">
    <h2>My Projects</h2>
  </div>
  <mat-form-field>
    <mat-label>
      Search a techno
    </mat-label>
    <input matInput type="text" [(ngModel)]="search" />
    <button
      mat-button
      *ngIf="search"
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="search = ''"
    >
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>
  <div class="project-list">
    <mat-card
      class="project-card"
      tabindex="0"
      *ngFor="let project of projects | technoFilter: search; let i = index"
    >
      <img mat-card-image [src]="project.image" />

      <mat-card-header>
        <mat-card-title
          ><strong>{{ project.name }}</strong></mat-card-title
        >
      </mat-card-header>
      <mat-card-content class="tab-content">
        <mat-tab-group mat-stretch-tabs mat-align-tabs="start" dynamicHeight>
          <mat-tab *ngIf="project.frameworks" label="Framework">
            <ul fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem">
              <li
                class="techno {{ framework }}"
                *ngFor="let framework of project.frameworks"
              >
                {{ framework }}
              </li>
            </ul>
          </mat-tab>
          <mat-tab label="Techno">
            <ul fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem">
              <li
                class="techno {{ techno }}"
                *ngFor="let techno of project.techno"
              >
                {{ techno }}
              </li>
            </ul>
          </mat-tab>
          <mat-tab label="Tools">
            <ul fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem">
              <li class="tool {{ tool }}" *ngFor="let tool of project.tools">
                {{ tool }}
              </li>
            </ul>
          </mat-tab>
          <mat-tab label="Production">
            <ul fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem">
              <li
                class="production {{ production }}"
                *ngFor="let production of project.production"
              >
                {{ production }}
              </li>
            </ul>
          </mat-tab>
        </mat-tab-group>
      </mat-card-content>
      <mat-card-actions align="end">
        <button
          mat-icon-button
          matTooltip="View Code"
          matTooltipPosition="before"
          matTooltipClass="tooltip"
          aria-label="Github code"
        >
          <a
            href="{{ project.githubLink }}"
            target="_blank"
            rel="noopener noreferrer"
          >
            <mat-icon>code</mat-icon>
          </a>
        </button>

        <button
          mat-icon-button
          matTooltip="Website"
          matTooltipPosition="above"
          aria-label="link button to the site"
        >
          <a
            href="{{ project.websiteLink }}"
            target="_blank"
            rel="noopener noreferrer"
          >
            <mat-icon>open_in_new</mat-icon>
          </a>
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- 
    <div
      class="project-card"
      *ngFor="let project of projects | filter: search; let i = index"
    >
      <img class="project-image" src="{{ project.image }}" alt="" />
      <div class="hover-div">
        <div>
          <p>{{ project.name }}</p>
        </div>
        <div>
          <button mat-button (click)="openDialog(i)">Open dialog</button>
        </div>
      </div>
    </div>-->
  </div>
</section>
